{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\swara\\\\Desktop\\\\hope\\\\Sims\\\\src\\\\components\\\\mentor\\\\allocations\\\\intern_monitoring.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Form, Table } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nconst InternMonitoring = () => {\n  const navigate = useNavigate();\n  const [selectedInterns, setSelectedInterns] = useState([]);\n  const handleCheckboxChange = e => {\n    const internId = e.target.value;\n    if (e.target.checked) {\n      setSelectedInterns([...selectedInterns, internId]);\n    } else {\n      setSelectedInterns(selectedInterns.filter(id => id !== internId));\n    }\n  };\n  const [search, setSearchQuery] = useState('');\n  const handleConfirm = async id => {\n    if (selectedInterns.length === 0) {\n      alert('No interns selected');\n      return;\n    }\n    const isConfirmed = window.confirm('Are you sure?');\n    if (isConfirmed) {\n      try {\n        const lid = localStorage.getItem('log_id');\n        const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works_post`, {\n          ints: selectedInterns\n        });\n        console.log(response.data);\n        window.location.reload();\n      } catch (e) {}\n      console.log(selectedInterns);\n    }\n  };\n  const [mnn, setMnn] = useState([]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const lid = localStorage.getItem('log_id');\n        if (search !== '') {\n          const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works`, {\n            params: {\n              log_id: lid,\n              search: search\n            }\n          });\n          setMnn(response.data.data);\n          console.log(response.data.data);\n        } else {\n          const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works`, {\n            params: {\n              log_id: lid\n            }\n          });\n          setMnn(response.data.data);\n          console.log(response.data.data);\n        }\n      } catch (e) {}\n    };\n    fetchData();\n  }, [search]);\n  const renderInterns = () => {\n    return mnn.map((intern, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, intern.intern_id.Name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, intern.work_id.workk_name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, intern.status === 'pending' ? /*#__PURE__*/React.createElement(Form.Check, {\n      type: \"checkbox\",\n      id: `checkbox-${index}`,\n      label: \"Mark as completed\",\n      onClick: handleCheckboxChange,\n      value: intern._id\n      // onClick={() => handleConfirm(intern.id)}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }) : intern.status)));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formSearchQuery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Enter search query\",\n    value: search,\n    onChange: e => {\n      setSearchQuery(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Table, {\n    striped: true,\n    bordered: true,\n    hover: true,\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"S.No\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"Interns\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"Work Assigned\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, renderInterns())), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleConfirm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, \"Submit\")));\n};\nexport default InternMonitoring;","map":{"version":3,"names":["React","useEffect","useState","Button","Form","Table","useNavigate","axios","InternMonitoring","navigate","selectedInterns","setSelectedInterns","handleCheckboxChange","e","internId","target","value","checked","filter","id","search","setSearchQuery","handleConfirm","length","alert","isConfirmed","window","confirm","lid","localStorage","getItem","response","post","process","env","REACT_APP_BACKEND_URL","ints","console","log","data","location","reload","mnn","setMnn","fetchData","get","params","log_id","renderInterns","map","intern","index","createElement","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","intern_id","Name","work_id","workk_name","status","Check","type","label","onClick","_id","className","onSubmit","Group","controlId","Control","placeholder","onChange","striped","bordered","hover","variant"],"sources":["C:/Users/swara/Desktop/hope/Sims/src/components/mentor/allocations/intern_monitoring.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Form, Table } from 'react-bootstrap';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst InternMonitoring =() => {\r\n    const navigate = useNavigate();\r\n    const [selectedInterns, setSelectedInterns] = useState([]);\r\n    const handleCheckboxChange = (e) => {\r\n        const internId = e.target.value;\r\n        if (e.target.checked) {\r\n            setSelectedInterns([...selectedInterns, internId]);\r\n        } else {\r\n            setSelectedInterns(selectedInterns.filter(id => id !== internId));\r\n        }\r\n    };\r\n\r\n    const [search, setSearchQuery] = useState('');\r\n    const handleConfirm = async (id) => {\r\n        if (selectedInterns.length === 0){\r\n            alert('No interns selected');\r\n            return;\r\n        }\r\n        const isConfirmed = window.confirm('Are you sure?');\r\n        if (isConfirmed) {\r\n            try {\r\n                const lid = localStorage.getItem('log_id');\r\n                const response = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works_post`, {ints: selectedInterns});\r\n                console.log(response.data);\r\n                window.location.reload();\r\n\r\n            } catch (e) {\r\n\r\n            }\r\n            console.log(selectedInterns);\r\n        }\r\n    };\r\n\r\n    const [mnn, setMnn] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const lid = localStorage.getItem('log_id');\r\n                if(search !== ''){\r\n                    const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works`, {params: {log_id: lid, search: search}});\r\n                    setMnn(response.data.data);\r\n                    console.log(response.data.data);\r\n                }else{\r\n                    const response = await axios.get(`${process.env.REACT_APP_BACKEND_URL}/mentor_monitor_works`, {params: {log_id: lid}});\r\n                    setMnn(response.data.data);\r\n                    console.log(response.data.data);\r\n                }\r\n            } catch (e) {\r\n\r\n            }\r\n\r\n        };\r\n        fetchData();\r\n    }, [search]);\r\n\r\n    const renderInterns = () => {\r\n        return mnn.map((intern, index) => (\r\n            <tr key={index}>\r\n                <td>{index + 1}</td>\r\n                <td>{intern.intern_id.Name}</td>\r\n                <td>{intern.work_id.workk_name}</td>\r\n                <td>\r\n                    {intern.status === 'pending' ? (\r\n                        <Form.Check\r\n                            type=\"checkbox\"\r\n                            id={`checkbox-${index}`}\r\n                            label='Mark as completed'\r\n                            onClick={handleCheckboxChange}\r\n                            value={intern._id}\r\n                            // onClick={() => handleConfirm(intern.id)}\r\n                        />\r\n                    ) : (\r\n                        intern.status\r\n                    )}\r\n                </td>\r\n            </tr>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <Form onSubmit={handleConfirm}>\r\n                <Form.Group controlId=\"formSearchQuery\">\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Enter search query\"\r\n                        value={search}\r\n                        onChange={(e) => {\r\n                            setSearchQuery(e.target.value);\r\n                        }}\r\n                    />\r\n                </Form.Group>\r\n\r\n            <Table striped bordered hover className=\"mt-4\">\r\n                <thead>\r\n                <tr>\r\n                    <th>S.No</th>\r\n                    <th>Interns</th>\r\n                    <th>Work Assigned</th>\r\n                    <th>Status</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>{renderInterns()}</tbody>\r\n            </Table>\r\n                <Button variant=\"primary\" onClick={handleConfirm}>Submit</Button>\r\n            </Form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InternMonitoring;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}